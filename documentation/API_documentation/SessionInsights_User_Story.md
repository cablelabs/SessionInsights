# Session Insights (SI) User Story

| **Item**                        | **Description**                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| ------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **_Summary_**                   | As an application developer, I want to be able to stream my application's network KPIs to the network operator. This allows the network operator to monitor in real-time whether it is meeting these dynamic requirements, and if not, proactively suggest or implement corrective measures to maintain optimal performance.                                                                                                                                                                                                                                               |
| **_Roles, Actor(s) and scope_** | **Roles:** API Consumer:Developer<br><br>**Actors:** Application service providers, hyperscalers, application developers.<br><br>**Scope:**<ul><li>Create a Session Insights session</li><li>Send Network KPIs</li><li>Get Session Insights score</li><li>Get root cause and recommended corrective actions</li><li>End Session</li></ul>                                                                                                                                                                                                                                  |
| **_Pre-conditions_**            | The preconditions are:<ol><li>Customer:Developer is eligible to use the Session Insights API, i.e. the Customer has successfully subscribed to the Session Insights API on the platform of an API Provider.</li><li>The customer application has requested and received an access token for the required scopes of the API.</li><li>The application developer has provisioned an application profile that will be used for the Session Insights session.</li></ol>                                                                                                         |
| **_Begins when_**               | The customer application creates a Session Insights session using an application profile, device identifier or 3-legged token, and callback URI. The CSP provides a session ID in the response.                                                                                                                                                                                                                                                                                                                                                                            |
| **_Step 1_**                    | The customer application periodically sends its network KPIs for its session to the CSP either via HTTP post or via MQTT.                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| **_Step 2_**                    | The CSP calculates a Session Insights score using a combination of the KPIs sent to it from the application along with its own network KPIs and the application profile. The CSP then sends a score back to the customer application via the callback URI provided (could be HTTP webhook, MQTT topic, or other method).                                                                                                                                                                                                                                                   |
| **_Step 3_**                    | The CSP can optionally include additional information along with the score to help diagnose and correct an issue when the score falls below acceptable thresholds (Root Cause).                                                                                                                                                                                                                                                                                                                                                                                            |
| **_Step 4_**                    | The customer application decides whether to take corrective action.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| **_Ends when_**                 | The customer application ends the Session Insights session ends or times out due to inactivity.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| **_Post-conditions_**           | The customer application was able to adjust to network issues in real-time and provide consistent performance to the end user of the application.                                                                                                                                                                                                                                                                                                                                                                                                                          |
| **_Exceptions_**                | Several exceptions might occur during the Session Insights API operations:<ul><li>Unauthorized: Not valid credentials (i.e. use of an expired access token).</li><li>Conflict: Internal configuration policies didnâ€™t allow for operations, i.e. a second Session Insights session for one device.</li><li>Not Found: application profile provided for session is not a defined application profile</li><li>Bad Request: If KPIs provided are not valid</li><li>Session-not-created: Due to other internal errors, Session Insights session resource could not be created. |
